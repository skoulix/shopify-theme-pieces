{%- comment -%}
  Contact Form Section - Skeleton + Tailwind
{%- endcomment -%}

<section class="bg-white">
  <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900">{{ section.settings.heading | default: 'Contact us' }}</h1>

    {% form 'contact', id: 'ContactForm' %}
      {% if form.posted_successfully? %}
        <div class="mt-8 rounded-md bg-green-50 p-4">
          <div class="flex items-center">
            <i class="ph ph-check-circle text-green-400 text-xl mr-3"></i>
            <p class="text-sm font-medium text-green-800">Thanks for your message! We'll get back to you soon.</p>
          </div>
        </div>
      {% endif %}

      {% if form.errors %}
        <div class="mt-8 rounded-md bg-red-50 p-4">
          <div class="flex items-center">
            <i class="ph ph-warning text-red-400 text-xl mr-3"></i>
            <p class="text-sm font-medium text-red-800">
              {{ form.errors.translated_fields.email | capitalize }} {{ form.errors.messages.email }}
            </p>
          </div>
        </div>
      {% endif %}

      <div class="mt-8 grid gap-6 sm:grid-cols-2">
        <div>
          <label for="ContactForm-name" class="block text-sm font-medium text-gray-700">Name</label>
          <input
            type="text"
            id="ContactForm-name"
            name="contact[name]"
            autocomplete="name"
            value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
            class="mt-1 block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"
          >
        </div>

        <div>
          <label for="ContactForm-email" class="block text-sm font-medium text-gray-700">Email *</label>
          <input
            type="email"
            id="ContactForm-email"
            name="contact[email]"
            autocomplete="email"
            required
            value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
            class="mt-1 block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"
          >
        </div>

        <div class="sm:col-span-2">
          <label for="ContactForm-phone" class="block text-sm font-medium text-gray-700">Phone</label>
          <input
            type="tel"
            id="ContactForm-phone"
            name="contact[phone]"
            autocomplete="tel"
            value="{% if form.phone %}{{ form.phone }}{% endif %}"
            class="mt-1 block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"
          >
        </div>

        <div class="sm:col-span-2">
          <label for="ContactForm-body" class="block text-sm font-medium text-gray-700">Message</label>
          <textarea
            id="ContactForm-body"
            name="contact[body]"
            rows="4"
            class="mt-1 block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm"
          >{{ form.body }}</textarea>
        </div>
      </div>

      <div class="mt-8">
        <button
          type="submit"
          class="inline-flex items-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
        >
          <i class="ph ph-paper-plane-right mr-2"></i>
          Send message
        </button>
      </div>
    {% endform %}
  </div>
</section>

{% schema %}
{
  "name": "Contact form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Contact us"
    }
  ],
  "presets": [
    {
      "name": "Contact form"
    }
  ]
}
{% endschema %}
