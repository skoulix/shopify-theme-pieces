{%- comment -%}
  Contact Form Section - Skeleton + Tailwind
{%- endcomment -%}

<section class="bg-[--color-background]">
  <div class="page-container section-spacing max-w-2xl">
    <h1 class="text-3xl font-bold tracking-tight text-[--color-text]">{{ section.settings.heading | default: 'Contact us' }}</h1>

    {% form 'contact', id: 'ContactForm' %}
      {% if form.posted_successfully? %}
        <div class="mt-8 rounded-[--card-radius] bg-green-50 p-4">
          <div class="flex items-center">
            <i class="ph ph-check-circle text-green-400 text-xl mr-3"></i>
            <p class="text-sm font-medium text-green-800">Thanks for your message! We'll get back to you soon.</p>
          </div>
        </div>
      {% endif %}

      {% if form.errors %}
        <div class="mt-8 rounded-[--card-radius] bg-red-50 p-4">
          <div class="flex items-center">
            <i class="ph ph-warning text-red-400 text-xl mr-3"></i>
            <p class="text-sm font-medium text-red-800">
              {{ form.errors.translated_fields.email | capitalize }} {{ form.errors.messages.email }}
            </p>
          </div>
        </div>
      {% endif %}

      <div class="mt-8 grid gap-6 sm:grid-cols-2">
        <div>
          <label for="ContactForm-name" class="block text-sm font-medium text-[--color-text-secondary]">Name</label>
          <input
            type="text"
            id="ContactForm-name"
            name="contact[name]"
            autocomplete="name"
            value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
            class="mt-1 block w-full py-2 px-3 text-[--color-text] bg-[--color-background] border border-[--color-border] rounded-[--input-radius] placeholder:text-[--color-text-secondary] focus:border-[--color-primary] focus:outline-none sm:text-sm"
            style="border-width: var(--input-border-width);"
          >
        </div>

        <div>
          <label for="ContactForm-email" class="block text-sm font-medium text-[--color-text-secondary]">Email *</label>
          <input
            type="email"
            id="ContactForm-email"
            name="contact[email]"
            autocomplete="email"
            required
            value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
            class="mt-1 block w-full py-2 px-3 text-[--color-text] bg-[--color-background] border border-[--color-border] rounded-[--input-radius] placeholder:text-[--color-text-secondary] focus:border-[--color-primary] focus:outline-none sm:text-sm"
            style="border-width: var(--input-border-width);"
          >
        </div>

        <div class="sm:col-span-2">
          <label for="ContactForm-phone" class="block text-sm font-medium text-[--color-text-secondary]">Phone</label>
          <input
            type="tel"
            id="ContactForm-phone"
            name="contact[phone]"
            autocomplete="tel"
            value="{% if form.phone %}{{ form.phone }}{% endif %}"
            class="mt-1 block w-full py-2 px-3 text-[--color-text] bg-[--color-background] border border-[--color-border] rounded-[--input-radius] placeholder:text-[--color-text-secondary] focus:border-[--color-primary] focus:outline-none sm:text-sm"
            style="border-width: var(--input-border-width);"
          >
        </div>

        <div class="sm:col-span-2">
          <label for="ContactForm-body" class="block text-sm font-medium text-[--color-text-secondary]">Message</label>
          <textarea
            id="ContactForm-body"
            name="contact[body]"
            rows="4"
            class="mt-1 block w-full py-2 px-3 text-[--color-text] bg-[--color-background] border border-[--color-border] rounded-[--input-radius] placeholder:text-[--color-text-secondary] focus:border-[--color-primary] focus:outline-none sm:text-sm"
            style="border-width: var(--input-border-width);"
          >{{ form.body }}</textarea>
        </div>
      </div>

      <div class="mt-8">
        <button type="submit" class="btn btn--primary">
          <i class="ph ph-paper-plane-right"></i>
          <span>Send message</span>
        </button>
      </div>
    {% endform %}
  </div>
</section>

{% schema %}
{
  "name": "Contact form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Contact us"
    }
  ],
  "presets": [
    {
      "name": "Contact form"
    }
  ]
}
{% endschema %}
