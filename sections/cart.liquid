{%- comment -%}
  Cart Section - Skeleton + Tailwind
{%- endcomment -%}

<section class="bg-white">
  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900">{{ 'cart.title' | t }}</h1>

    {% if cart.item_count > 0 %}
      <form action="{{ routes.cart_url }}" method="post" class="mt-12">
        <div class="flow-root">
          <ul role="list" class="-my-6 divide-y divide-gray-200">
            {% for item in cart.items %}
              <li class="flex py-6">
                <div class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md bg-gray-100">
                  {% if item.image %}
                    {{ item.image | image_url: width: 200 | image_tag:
                      class: 'h-full w-full object-cover object-center'
                    }}
                  {% endif %}
                </div>

                <div class="ml-4 flex flex-1 flex-col">
                  <div>
                    <div class="flex justify-between text-base font-medium text-gray-900">
                      <h3>
                        <a href="{{ item.url }}">{{ item.product.title }}</a>
                      </h3>
                      <p class="ml-4">{{ item.line_price | money }}</p>
                    </div>
                    {% unless item.product.has_only_default_variant %}
                      <p class="mt-1 text-sm text-gray-500">{{ item.variant.title }}</p>
                    {% endunless %}
                  </div>
                  <div class="flex flex-1 items-end justify-between text-sm">
                    <div class="flex items-center gap-2">
                      <label for="quantity-{{ item.index }}" class="text-gray-500">Qty</label>
                      <input
                        type="number"
                        id="quantity-{{ item.index }}"
                        name="updates[]"
                        value="{{ item.quantity }}"
                        min="0"
                        class="w-16 rounded-md border-0 py-1.5 px-2 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm"
                      >
                    </div>

                    <a href="{{ item.url_to_remove }}" class="font-medium text-indigo-600 hover:text-indigo-500">
                      {{ 'cart.remove' | t }}
                    </a>
                  </div>
                </div>
              </li>
            {% endfor %}
          </ul>
        </div>

        <div class="mt-10 border-t border-gray-200 pt-8">
          <div class="flex justify-between text-base font-medium text-gray-900">
            <p>Subtotal</p>
            <p>{{ cart.total_price | money }}</p>
          </div>
          <p class="mt-0.5 text-sm text-gray-500">Shipping and taxes calculated at checkout.</p>

          <div class="mt-6 flex flex-col gap-4">
            <button
              type="submit"
              name="update"
              class="flex items-center justify-center rounded-md border border-gray-300 bg-white px-6 py-3 text-base font-medium text-gray-700 hover:bg-gray-50"
            >
              <i class="ph ph-arrows-clockwise mr-2"></i>
              {{ 'cart.update' | t }}
            </button>
            <button
              type="submit"
              name="checkout"
              class="flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white hover:bg-indigo-700"
            >
              <i class="ph ph-credit-card mr-2"></i>
              {{ 'cart.checkout' | t }}
            </button>
          </div>
        </div>
      </form>
    {% else %}
      <div class="mt-12 text-center">
        <i class="ph ph-bag text-6xl text-gray-300"></i>
        <h2 class="mt-4 text-lg font-medium text-gray-900">Your cart is empty</h2>
        <p class="mt-2 text-sm text-gray-500">Start shopping to add items to your cart.</p>
        <a href="{{ routes.all_products_collection_url }}" class="mt-6 inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500">
          Continue shopping
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Cart",
  "settings": []
}
{% endschema %}
