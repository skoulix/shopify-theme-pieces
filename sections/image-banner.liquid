{%- comment -%}
  Image Banner / Hero Section - Tailwind UI Design
  Modern hero with gradient blur effects, centered content, and announcement pill
{%- endcomment -%}

{%- liquid
  assign overlay_opacity = section.settings.image_overlay_opacity | divided_by: 100.0
-%}

<section class="relative isolate overflow-hidden bg-white">
  {%- comment -%} Background Image {%- endcomment -%}
  {%- if section.settings.image != blank -%}
    {{
      section.settings.image
      | image_url: width: 2830
      | image_tag:
        class: 'absolute inset-0 -z-10 size-full object-cover',
        loading: 'eager',
        fetchpriority: 'high',
        widths: '800, 1200, 1600, 2000, 2830',
        style: 'opacity: 0.1;'
    }}
  {%- elsif section.settings.image_2 != blank -%}
    {{
      section.settings.image_2
      | image_url: width: 2830
      | image_tag:
        class: 'absolute inset-0 -z-10 size-full object-cover',
        loading: 'eager',
        fetchpriority: 'high',
        widths: '800, 1200, 1600, 2000, 2830',
        style: 'opacity: 0.1;'
    }}
  {%- endif -%}

  {%- comment -%} Optional overlay for darker images {%- endcomment -%}
  {%- if overlay_opacity > 0 -%}
    <div class="absolute inset-0 -z-10 bg-black" style="opacity: {{ overlay_opacity }};"></div>
  {%- endif -%}

  {%- comment -%} Top Gradient Blur Effect {%- endcomment -%}
  <div aria-hidden="true" class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80">
    <div
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"
      class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
    ></div>
  </div>

  {%- comment -%} Main Content {%- endcomment -%}
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl py-32 sm:py-48 lg:py-56">
      {%- for block in section.blocks -%}
        {%- case block.type -%}

          {%- when 'announcement' -%}
            {%- if block.settings.text != blank -%}
              <div class="hidden sm:mb-8 sm:flex sm:justify-center" {{ block.shopify_attributes }}>
                <div class="relative rounded-full px-3 py-1 text-sm/6 text-gray-600 ring-1 ring-gray-900/10 hover:ring-gray-900/20">
                  {{ block.settings.text }}
                  {%- if block.settings.link != blank and block.settings.link_text != blank -%}
                    <a href="{{ block.settings.link }}" class="font-semibold text-indigo-600">
                      <span aria-hidden="true" class="absolute inset-0"></span>
                      {{ block.settings.link_text }} <span aria-hidden="true">&rarr;</span>
                    </a>
                  {%- endif -%}
                </div>
              </div>
            {%- endif -%}

          {%- when 'heading' -%}
            <div class="text-center" {{ block.shopify_attributes }}>
              <h1 class="text-balance text-5xl font-semibold tracking-tight text-gray-900 sm:text-7xl">
                {{ block.settings.heading }}
              </h1>
            </div>

          {%- when 'text' -%}
            <div class="text-center" {{ block.shopify_attributes }}>
              <p class="mt-8 text-pretty text-lg font-medium text-gray-600 sm:text-xl/8">
                {{ block.settings.text }}
              </p>
            </div>

          {%- when 'buttons' -%}
            <div class="mt-10 flex items-center justify-center gap-x-6" {{ block.shopify_attributes }}>
              {%- if block.settings.button_label_1 != blank -%}
                <a
                  {% if block.settings.button_link_1 == blank %}
                    role="link" aria-disabled="true"
                  {% else %}
                    href="{{ block.settings.button_link_1 }}"
                  {% endif %}
                  class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                >
                  {{ block.settings.button_label_1 | escape }}
                </a>
              {%- endif -%}

              {%- if block.settings.button_label_2 != blank -%}
                <a
                  {% if block.settings.button_link_2 == blank %}
                    role="link" aria-disabled="true"
                  {% else %}
                    href="{{ block.settings.button_link_2 }}"
                  {% endif %}
                  class="text-sm/6 font-semibold text-gray-900"
                >
                  {{ block.settings.button_label_2 | escape }} <span aria-hidden="true">â†’</span>
                </a>
              {%- endif -%}
            </div>

        {%- endcase -%}
      {%- endfor -%}
    </div>
  </div>

  {%- comment -%} Bottom Gradient Blur Effect {%- endcomment -%}
  <div aria-hidden="true" class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]">
    <div
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"
      class="relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"
    ></div>
  </div>
</section>

{% schema %}
{
  "name": "t:sections.image-banner.name",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.image-banner.settings.image.label",
      "info": "Optional background image (displayed with low opacity)"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "t:sections.image-banner.settings.image_2.label",
      "info": "Fallback image if primary is not set"
    },
    {
      "type": "range",
      "id": "image_overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "%",
      "label": "t:sections.image-banner.settings.image_overlay_opacity.label",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "announcement",
      "name": "Announcement pill",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Announcing our next round of funding.",
          "label": "Text"
        },
        {
          "type": "text",
          "id": "link_text",
          "default": "Read more",
          "label": "Link text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    },
    {
      "type": "heading",
      "name": "t:sections.image-banner.blocks.heading.name",
      "limit": 1,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "Data to enrich your online business",
          "label": "t:sections.image-banner.blocks.heading.settings.heading.label"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.image-banner.blocks.text.name",
      "limit": 1,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "text",
          "default": "Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo.",
          "label": "t:sections.image-banner.blocks.text.settings.text.label"
        }
      ]
    },
    {
      "type": "buttons",
      "name": "t:sections.image-banner.blocks.buttons.name",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Primary button"
        },
        {
          "type": "text",
          "id": "button_label_1",
          "default": "Get started",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_label_1.label",
          "info": "t:sections.image-banner.blocks.buttons.settings.button_label_1.info"
        },
        {
          "type": "url",
          "id": "button_link_1",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_link_1.label"
        },
        {
          "type": "header",
          "content": "Secondary button"
        },
        {
          "type": "text",
          "id": "button_label_2",
          "default": "Learn more",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_label_2.label",
          "info": "t:sections.image-banner.blocks.buttons.settings.button_label_2.info"
        },
        {
          "type": "url",
          "id": "button_link_2",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_link_2.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.image-banner.presets.name",
      "blocks": [
        {
          "type": "announcement"
        },
        {
          "type": "heading"
        },
        {
          "type": "text"
        },
        {
          "type": "buttons"
        }
      ]
    }
  ]
}
{% endschema %}
