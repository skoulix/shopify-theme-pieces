{%- comment -%}
  Collection Section - Skeleton + Tailwind
{%- endcomment -%}

<section class="bg-white">
  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900">{{ collection.title }}</h1>

    {% if collection.description != blank %}
      <p class="mt-4 max-w-xl text-base text-gray-500">{{ collection.description }}</p>
    {% endif %}

    <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
      {% paginate collection.products by 20 %}
        {% for product in collection.products %}
          <div class="group relative">
            <a href="{{ product.url }}" class="block">
              <div class="aspect-square w-full overflow-hidden rounded-lg bg-gray-100">
                {% if product.featured_image %}
                  {{ product.featured_image | image_url: width: 600 | image_tag:
                    class: 'h-full w-full object-cover object-center group-hover:opacity-75 transition-opacity',
                    loading: 'lazy'
                  }}
                {% else %}
                  <div class="flex h-full items-center justify-center">
                    <i class="ph ph-image text-4xl text-gray-300"></i>
                  </div>
                {% endif %}
              </div>
              <div class="mt-4">
                <h3 class="text-sm font-medium text-gray-900">{{ product.title }}</h3>
                <p class="mt-1 text-sm text-gray-500">{{ product.price | money }}</p>
              </div>
            </a>
          </div>
        {% endfor %}
      {% endpaginate %}
    </div>

    {% if paginate.pages > 1 %}
      <nav class="mt-10 flex items-center justify-center gap-2">
        {% if paginate.previous %}
          <a href="{{ paginate.previous.url }}" class="rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
            <i class="ph ph-arrow-left"></i>
          </a>
        {% endif %}

        {% for part in paginate.parts %}
          {% if part.is_link %}
            <a href="{{ part.url }}" class="rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
              {{ part.title }}
            </a>
          {% else %}
            {% if part.title == paginate.current_page %}
              <span class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white">
                {{ part.title }}
              </span>
            {% else %}
              <span class="px-4 py-2 text-sm text-gray-500">{{ part.title }}</span>
            {% endif %}
          {% endif %}
        {% endfor %}

        {% if paginate.next %}
          <a href="{{ paginate.next.url }}" class="rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
            <i class="ph ph-arrow-right"></i>
          </a>
        {% endif %}
      </nav>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Collection",
  "settings": []
}
{% endschema %}
