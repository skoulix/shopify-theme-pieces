{%- comment -%}
  Shop The Look Section - Image with numbered hotspots linking to products
{%- endcomment -%}

{%- liquid
  capture container_class
    render 'container-class', full_width: section.settings.full_width, full_class: 'container-fluid'
  endcapture

  capture header_container_class
    render 'container-class', full_width: section.settings.full_width, full_class: 'container-fluid'
  endcapture

  # Use global card settings
  assign card_radius = settings.card_radius | default: 8
  assign card_border_width = settings.card_border_width | default: 0
  assign card_shadow = settings.card_shadow | default: 'none'

  assign dot_color = section.settings.dot_color | default: '#000000'
  assign dot_text_color = section.settings.dot_text_color | default: '#ffffff'

  # Calculate total price for all products
  assign total_price = 0
  assign product_count = 0
  for block in section.blocks
    if block.type == 'product' and block.settings.product != blank
      assign total_price = total_price | plus: block.settings.product.price
      assign product_count = product_count | plus: 1
    endif
  endfor
-%}

<style>

  .shop-the-look-header-{{ section.id }} {
    margin-bottom: clamp(3rem, 6vh, 5rem);
    text-align: {{ section.settings.header_alignment }};
  }

  /* Label, title, description use global .section-* classes from typography.css */
  .shop-the-look-header-{{ section.id }} .section-description {
    {% if section.settings.header_alignment == 'center' %}
    margin-left: auto;
    margin-right: auto;
    {% elsif section.settings.header_alignment == 'right' %}
    margin-left: auto;
    {% endif %}
  }

  /* Image container */
  .shop-the-look-image-{{ section.id }} {
    position: relative;
    border-radius: {{ card_radius }}px;
    {% if card_border_width > 0 %}
    border: {{ card_border_width }}px solid var(--color-border);
    {% endif %}
    {% if card_shadow != 'none' %}
    box-shadow: {{ card_shadow }};
    {% endif %}
  }

  .shop-the-look-image-{{ section.id }} img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: {{ card_radius }}px;
  }

  /* Hotspot dots */
  .shop-the-look-dot-{{ section.id }} {
    position: absolute;
    transform: translate(-50%, -50%);
    z-index: 10;
  }

  .shop-the-look-trigger-{{ section.id }} {
    position: relative;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    background-color: {{ dot_color }};
    transition: transform 0.3s ease;
  }

  .shop-the-look-trigger-{{ section.id }}:hover {
    transform: scale(1.1);
  }

  .shop-the-look-trigger-{{ section.id }} span {
    position: relative;
    z-index: 2;
    font-size: 0.875rem;
    font-weight: 700;
    color: {{ dot_text_color }};
  }

  /* Pulse animation */
  .shop-the-look-pulse-{{ section.id }} {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background-color: {{ dot_color }};
    opacity: 0.3;
    animation: shop-the-look-ping-{{ section.id }} 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  @keyframes shop-the-look-ping-{{ section.id }} {
    75%, 100% {
      transform: scale(2);
      opacity: 0;
    }
  }

  /* Mobile position overrides */
  @media (max-width: 767px) {
    .shop-the-look-dot-{{ section.id }} {
      left: var(--mobile-x, 50%) !important;
      top: var(--mobile-y, 50%) !important;
    }
  }

  /* Product card */
  .shop-the-look-product-{{ section.id }} {
    position: relative;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 1rem;
    border-radius: {{ card_radius }}px;
    {% if card_border_width > 0 %}
    border: {{ card_border_width }}px solid var(--color-border);
    {% else %}
    border: 1px solid var(--color-border);
    {% endif %}
    transition: all 0.2s ease;
    scroll-margin-top: 6rem;
  }

  .shop-the-look-product-{{ section.id }}:hover {
    border-color: var(--color-text);
    opacity: 0.9;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  .shop-the-look-product-{{ section.id }}.is-highlighted {
    background-color: var(--color-background-secondary, rgba(0,0,0,0.03));
    border-color: var(--color-border);
  }

  .shop-the-look-product-image-{{ section.id }} {
    width: 5rem;
    height: 5rem;
    flex-shrink: 0;
    border-radius: {{ card_radius }}px;
    overflow: hidden;
  }

  .shop-the-look-product-image-{{ section.id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .shop-the-look-badge-{{ section.id }} {
    position: absolute;
    top: -0.5rem;
    left: -0.5rem;
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    background-color: {{ dot_color }};
    color: {{ dot_text_color }};
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    z-index: 10;
  }

  /* Complete the look box */
  .shop-the-look-complete-{{ section.id }} {
    margin-top: 2rem;
    padding: 1.5rem;
    border-radius: {{ card_radius }}px;
    background-color: var(--color-background-secondary, rgba(0,0,0,0.03));
    {% if card_border_width > 0 %}
    border: {{ card_border_width }}px solid var(--color-border);
    {% endif %}
  }

  .shop-the-look-complete-{{ section.id }} .complete-title {
    font-size: calc(1.125rem * var(--heading-font-scale, 1));
    font-weight: var(--font-heading-weight, 700);
    margin-bottom: 0.25rem;
  }

  .shop-the-look-complete-{{ section.id }} .complete-subtitle {
    font-size: 0.875rem;
    opacity: 0.7;
  }

  .shop-the-look-complete-{{ section.id }} .complete-total-label {
    opacity: 0.7;
  }

  .shop-the-look-complete-{{ section.id }} .complete-total-price {
    font-size: calc(1.5rem * var(--heading-font-scale, 1));
    font-weight: var(--font-heading-weight, 700);
    line-height: 1.2;
  }

</style>

<div
  class="shop-the-look-{{ section.id }} section-padding color-{{ section.settings.color_scheme }}"
  data-shop-the-look-section="{{ section.id }}"
>
  {%- comment -%} Header - always contained {%- endcomment -%}
  <div class="{{ header_container_class }}">
    <header class="shop-the-look-header-{{ section.id }}">
      {% render 'section-header',
        label: section.settings.label,
        title: section.settings.title,
        description: section.settings.description,
        alignment: section.settings.header_alignment,
        group_id: section.id
      %}
    </header>
  </div>

  <div class="{{ container_class }}">
    {%- comment -%} Main Content Grid {%- endcomment -%}
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start">
      {%- comment -%} Image Column {%- endcomment -%}
      <div class="{% if section.settings.layout == 'image_right' %}order-1 lg:order-2{% else %}order-1{% endif %}">
        <div class="lg:sticky lg:top-12">
          <div class="shop-the-look-image-{{ section.id }}" data-tween data-tween-type="fade-up">
            {% if section.settings.image != blank %}
              {{ section.settings.image | image_url: width: 1600 | image_tag:
                class: 'w-full h-auto',
                loading: 'lazy',
          decoding: 'async',
                sizes: '(max-width: 1024px) 100vw, 50vw',
                widths: '600, 800, 1000, 1200, 1600',
                alt: section.settings.image.alt | default: section.settings.title
              }}

              {%- comment -%} Hotspot Dots {%- endcomment -%}
              {% for block in section.blocks %}
                {% if block.type == 'product' %}
                  {%- liquid
                    assign position_x = block.settings.position_x | default: 50
                    assign position_y = block.settings.position_y | default: 50
                    assign position_x_mobile = block.settings.position_x_mobile | default: position_x
                    assign position_y_mobile = block.settings.position_y_mobile | default: position_y
                  -%}

                  <div
                    class="shop-the-look-dot-{{ section.id }}"
                    style="left: {{ position_x }}%; top: {{ position_y }}%; --mobile-x: {{ position_x_mobile }}%; --mobile-y: {{ position_y_mobile }}%;"
                    {{ block.shopify_attributes }}
                  >
                    <button
                      type="button"
                      class="shop-the-look-trigger-{{ section.id }}"
                      data-scroll-to-product="{{ forloop.index0 }}"
                      aria-label="{{ 'sections.shop_the_look.view_product' | t: index: forloop.index }}"
                    >
                      <span class="shop-the-look-pulse-{{ section.id }}"></span>
                      <span>{{ forloop.index }}</span>
                    </button>
                  </div>
                {% endif %}
              {% endfor %}
            {% else %}
              <div class="w-full aspect-square bg-(--color-background-secondary) flex items-center justify-center" style="border-radius: {{ card_radius }}px;">
                {{ 'lifestyle-1' | placeholder_svg_tag: 'w-full h-full object-cover' }}
              </div>

              {%- comment -%} Dummy hotspots for placeholder {%- endcomment -%}
              <div
                class="shop-the-look-dot-{{ section.id }}"
                style="left: 25%; top: 30%;"
              >
                <button
                  type="button"
                  class="shop-the-look-trigger-{{ section.id }}"
                  aria-label="{{ 'accessibility.view_product' | t: index: 1 }}"
                >
                  <span class="shop-the-look-pulse-{{ section.id }}"></span>
                  <span>1</span>
                </button>
              </div>
              <div
                class="shop-the-look-dot-{{ section.id }}"
                style="left: 65%; top: 50%;"
              >
                <button
                  type="button"
                  class="shop-the-look-trigger-{{ section.id }}"
                  aria-label="{{ 'accessibility.view_product' | t: index: 2 }}"
                >
                  <span class="shop-the-look-pulse-{{ section.id }}"></span>
                  <span>2</span>
                </button>
              </div>
              <div
                class="shop-the-look-dot-{{ section.id }}"
                style="left: 40%; top: 75%;"
              >
                <button
                  type="button"
                  class="shop-the-look-trigger-{{ section.id }}"
                  aria-label="{{ 'accessibility.view_product' | t: index: 3 }}"
                >
                  <span class="shop-the-look-pulse-{{ section.id }}"></span>
                  <span>3</span>
                </button>
              </div>
            {% endif %}
          </div>
        </div>
      </div>

      {%- comment -%} Products Column {%- endcomment -%}
      <div class="{% if section.settings.layout == 'image_right' %}order-2 lg:order-1{% else %}order-2{% endif %} lg:sticky lg:top-12">
        <div class="space-y-4">
          {% for block in section.blocks %}
            {% if block.type == 'product' %}
              {% assign product = block.settings.product %}
              {% if product != blank %}
                <div
                  class="shop-the-look-product-{{ section.id }}"
                  id="shop-the-look-product-{{ section.id }}-{{ forloop.index0 }}"
                  data-product-id="{{ product.id }}"
                  data-variant-id="{{ product.selected_or_first_available_variant.id }}"
                  data-tween data-tween-type="fade-up"
                  {{ block.shopify_attributes }}
                >
                  {%- comment -%} Number Badge {%- endcomment -%}
                  <div class="shop-the-look-badge-{{ section.id }}">{{ forloop.index }}</div>

                  {%- comment -%} Product Image {%- endcomment -%}
                  <a href="{{ product.url }}" class="shop-the-look-product-image-{{ section.id }}" aria-label="{{ product.title }}">
                    {% if product.featured_image != blank %}
                      {{ product.featured_image | image_url: width: 200 | image_tag:
                        class: 'w-full h-full object-cover',
                        loading: 'lazy',
          decoding: 'async',
                        alt: product.title
                      }}
                    {% else %}
                      {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover' }}
                    {% endif %}
                  </a>

                  {%- comment -%} Product Details {%- endcomment -%}
                  <div class="flex-1 min-w-0 flex flex-col sm:flex-row sm:items-center gap-3">
                    <div class="flex-1 min-w-0">
                      <a href="{{ product.url }}" class="block group">
                        <h3 class="font-semibold text-base mb-1 group-hover:underline leading-tight">
                          {{ product.title }}
                        </h3>
                        {% if product.vendor != blank and section.settings.show_vendor %}
                          <p class="text-sm opacity-60 mb-1">{{ product.vendor }}</p>
                        {% endif %}
                        <div class="flex items-center gap-2">
                          {% if product.compare_at_price > product.price %}
                            <span class="font-bold text-lg">{{ product.price | money }}</span>
                            <span class="text-sm opacity-60 line-through">{{ product.compare_at_price | money }}</span>
                          {% else %}
                            <span class="font-bold text-lg">{{ product.price | money }}</span>
                          {% endif %}
                        </div>
                      </a>
                    </div>

                    {%- comment -%} Add to Cart Button {%- endcomment -%}
                    <div class="flex-shrink-0">
                      {%- assign btn_add = 'products.product.add_to_cart' | t | split: ' ' | first -%}
                      {%- assign btn_sold_out = 'products.product.sold_out' | t -%}
                      {% if product.available %}
                        <button
                          type="button"
                          class="btn btn--primary btn--sm"
                          data-quick-add-variant="{{ product.selected_or_first_available_variant.id }}"
                        >
                          {% render 'button-text', text: btn_add %}
                        </button>
                      {% else %}
                        <button type="button" class="btn btn--secondary btn--sm" disabled>
                          {% render 'button-text', text: btn_sold_out %}
                        </button>
                      {% endif %}
                    </div>
                  </div>
                </div>
              {% else %}
                {%- comment -%} Placeholder {%- endcomment -%}
                <div class="shop-the-look-product-{{ section.id }} border-dashed" {{ block.shopify_attributes }}>
                  <div class="shop-the-look-badge-{{ section.id }} opacity-50">{{ forloop.index }}</div>
                  <div class="flex-1 py-4 text-center opacity-50">
                    <p class="text-sm">{{ 'sections.shop_the_look.select_product' | t: index: forloop.index }}</p>
                  </div>
                </div>
              {% endif %}
            {% endif %}
          {% endfor %}

          {% if section.blocks.size == 0 %}
            <div class="text-center py-12 opacity-50">
              <p>{{ 'sections.shop_the_look.add_hotspots' | t }}</p>
            </div>
          {% endif %}

          {%- comment -%} Complete the Look / Add All {%- endcomment -%}
          {% if product_count > 0 and section.settings.show_add_all %}
            <div class="shop-the-look-complete-{{ section.id }}" data-tween data-tween-type="fade-up">
              <div class="flex flex-col gap-4">
                <div class="flex items-center justify-between">
                  <div>
                    {%- liquid
                      if section.settings.add_all_title != blank
                        assign add_all_title = section.settings.add_all_title
                      else
                        assign add_all_title = 'sections.shop_the_look.complete_the_look' | t
                      endif
                    -%}
                    <h3 class="complete-title font-heading">{{ add_all_title }}</h3>
                    <p class="complete-subtitle">{{ 'sections.shop_the_look.items_in_look' | t: count: product_count }}</p>
                  </div>
                  <div class="text-right">
                    <div class="complete-total-label text-label">{{ 'sections.shop_the_look.total' | t }}</div>
                    <div class="complete-total-price">{{ total_price | money }}</div>
                  </div>
                </div>
                <button
                  type="button"
                  class="btn btn--primary w-full"
                  data-add-all-to-cart
                >
                  {%- liquid
                    if section.settings.add_all_button != blank
                      assign add_all_button = section.settings.add_all_button
                    else
                      assign add_all_button = 'sections.shop_the_look.add_all' | t
                    endif
                  -%}
                  <span>{{ add_all_button }}</span>
                </button>
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  'use strict';

  const sectionId = '{{ section.id }}';
  const section = document.querySelector('[data-shop-the-look-section="' + sectionId + '"]');
  if (!section) return;

  // Prevent duplicate initialization
  if (section.dataset.initialized) return;
  section.dataset.initialized = 'true';

  // Scroll to product when hotspot is clicked
  const hotspotButtons = section.querySelectorAll('[data-scroll-to-product]');
  hotspotButtons.forEach(function(button) {
    button.addEventListener('click', function() {
      const index = this.dataset.scrollToProduct;
      const productElement = document.getElementById('shop-the-look-product-' + sectionId + '-' + index);

      if (productElement) {
        // Remove highlight from all products
        section.querySelectorAll('.shop-the-look-product-' + sectionId).forEach(function(item) {
          item.classList.remove('is-highlighted');
        });

        // Scroll to product
        productElement.scrollIntoView({ behavior: 'smooth', block: 'center' });

        // Add highlight effect
        productElement.classList.add('is-highlighted');

        // Brief scale animation
        productElement.style.transform = 'scale(1.02)';
        setTimeout(function() {
          productElement.style.transform = '';
        }, 300);
      }
    });
  });

  // Quick add to cart
  const quickAddButtons = section.querySelectorAll('[data-quick-add-variant]');
  quickAddButtons.forEach(function(button) {
    button.addEventListener('click', function() {
      const variantId = this.dataset.quickAddVariant;
      const originalHtml = this.innerHTML;

      this.disabled = true;
      this.innerHTML = '<svg class="animate-spin w-4 h-4" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';

      fetch('/cart/add.js', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ items: [{ id: variantId, quantity: 1 }] })
      })
      .then(function(response) { return response.json(); })
      .then(async function(item) {
        button.innerHTML = '<i class="ph ph-check"></i>';

        // Refresh cart
        document.dispatchEvent(new CustomEvent('cart:refresh'));

        // Get updated cart
        const cartResponse = await fetch('/cart.js');
        const cart = await cartResponse.json();

        // Update cart count
        document.querySelectorAll('[data-cart-count]').forEach(function(el) {
          el.textContent = cart.item_count;
          el.classList.toggle('hidden', cart.item_count === 0);
        });

        // Dispatch cart updated event for reactive components (e.g., free shipping bar)
        document.dispatchEvent(new CustomEvent('cart:updated', { detail: { cart } }));

        // Check cart type setting
        const cartType = window.themeSettings?.cartType || 'drawer';

        if (cartType === 'drawer') {
          document.dispatchEvent(new CustomEvent('cart:open', { detail: { skipFetch: true } }));
        } else if (cartType === 'notification') {
          const productInfo = {
            title: item.items ? item.items[0].product_title : item.product_title,
            variant_title: (item.items ? item.items[0].variant_title : item.variant_title) !== 'Default Title' ? (item.items ? item.items[0].variant_title : item.variant_title) : null,
            image: (item.items ? item.items[0].image : item.image) ? (item.items ? item.items[0].image : item.image).replace(/(\.[^.]+)$/, '_200x$1') : null
          };
          document.dispatchEvent(new CustomEvent('cart:notification', {
            detail: { product: productInfo, cart: cart }
          }));
        } else {
          window.location.href = window.routes?.cartUrl || '/cart';
          return;
        }

        setTimeout(function() {
          button.innerHTML = originalHtml;
          button.disabled = false;
        }, 1500);
      })
      .catch(function(error) {
        console.error('Error adding to cart:', error);
        button.innerHTML = originalHtml;
        button.disabled = false;
      });
    });
  });

  // Add all to cart
  const addAllButton = section.querySelector('[data-add-all-to-cart]');
  if (addAllButton) {
    addAllButton.addEventListener('click', function() {
      const originalHtml = this.innerHTML;
      this.disabled = true;
      this.innerHTML = '<svg class="animate-spin w-4 h-4 mr-2" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>{{ 'cart.adding' | t }}</span>';

      const items = [];
      section.querySelectorAll('[data-variant-id]').forEach(function(card) {
        const variantId = card.dataset.variantId;
        if (variantId) {
          items.push({ id: variantId, quantity: 1 });
        }
      });

      if (items.length === 0) {
        this.innerHTML = originalHtml;
        this.disabled = false;
        return;
      }

      fetch('/cart/add.js', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ items: items })
      })
      .then(function(response) { return response.json(); })
      .then(async function(data) {
        addAllButton.innerHTML = '<i class="ph ph-check mr-2"></i><span>{{ 'cart.added' | t }}</span>';

        // Refresh cart
        document.dispatchEvent(new CustomEvent('cart:refresh'));

        // Get updated cart
        const cartResponse = await fetch('/cart.js');
        const cart = await cartResponse.json();

        // Update cart count
        document.querySelectorAll('[data-cart-count]').forEach(function(el) {
          el.textContent = cart.item_count;
          el.classList.toggle('hidden', cart.item_count === 0);
        });

        // Dispatch cart updated event for reactive components (e.g., free shipping bar)
        document.dispatchEvent(new CustomEvent('cart:updated', { detail: { cart } }));

        // Check cart type setting
        const cartType = window.themeSettings?.cartType || 'drawer';

        if (cartType === 'drawer') {
          document.dispatchEvent(new CustomEvent('cart:open', { detail: { skipFetch: true } }));
        } else if (cartType === 'notification') {
          // For multiple items, show notification for the first one
          const firstItem = data.items ? data.items[0] : data;
          const productInfo = {
            title: firstItem.product_title,
            variant_title: firstItem.variant_title !== 'Default Title' ? firstItem.variant_title : null,
            image: firstItem.image ? firstItem.image.replace(/(\.[^.]+)$/, '_200x$1') : null
          };
          document.dispatchEvent(new CustomEvent('cart:notification', {
            detail: { product: productInfo, cart: cart }
          }));
        } else {
          window.location.href = window.routes?.cartUrl || '/cart';
          return;
        }

        setTimeout(function() {
          addAllButton.innerHTML = originalHtml;
          addAllButton.disabled = false;
        }, 2000);
      })
      .catch(function(error) {
        console.error('Error adding all to cart:', error);
        addAllButton.innerHTML = '<span>{{ 'cart.error' | t }}</span>';
        setTimeout(function() {
          addAllButton.innerHTML = originalHtml;
          addAllButton.disabled = false;
        }, 2000);
      });
    });
  }

  // Header animations handled by global TweenManager via data-tween attributes
})();
</script>

{% schema %}
{
  "name": "Shop The Look",
  "tag": "section",
  "class": "shop-the-look-section",
  "max_blocks": 8,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "default": "Style Guide"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Shop The Look"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image",
      "info": "Add alt text via the image's metadata in Files"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": false
    },
    {
      "type": "text_alignment",
      "id": "header_alignment",
      "label": "Header alignment",
      "default": "left"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Image position",
      "options": [
        { "value": "image_left", "label": "Image left" },
        { "value": "image_right", "label": "Image right" }
      ],
      "default": "image_left"
    },
    {
      "type": "header",
      "content": "Product display"
    },
    {
      "type": "checkbox",
      "id": "show_vendor",
      "label": "Show product vendor",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_add_all",
      "label": "Show 'Add All' section",
      "default": true
    },
    {
      "type": "text",
      "id": "add_all_title",
      "label": "Add all section title",
      "default": "Complete the Look"
    },
    {
      "type": "text",
      "id": "add_all_button",
      "label": "Add all button text",
      "default": "Add All"
    },
    {
      "type": "header",
      "content": "Hotspot style"
    },
    {
      "type": "color",
      "id": "dot_color",
      "label": "Hotspot background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "dot_text_color",
      "label": "Hotspot number color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "header",
          "content": "Hotspot position"
        },
        {
          "type": "range",
          "id": "position_x",
          "label": "Horizontal position (Desktop)",
          "default": 50,
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "range",
          "id": "position_y",
          "label": "Vertical position (Desktop)",
          "default": 50,
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "range",
          "id": "position_x_mobile",
          "label": "Horizontal position (Mobile)",
          "default": 50,
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "range",
          "id": "position_y_mobile",
          "label": "Vertical position (Mobile)",
          "default": 50,
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Shop The Look",
      "category": "Products",
      "blocks": [
        {
          "type": "product",
          "settings": {
            "position_x": 25,
            "position_y": 30
          }
        },
        {
          "type": "product",
          "settings": {
            "position_x": 65,
            "position_y": 50
          }
        },
        {
          "type": "product",
          "settings": {
            "position_x": 40,
            "position_y": 75
          }
        }
      ]
    }
  ],
  "disabled_on": {
    "groups": ["header", "footer"]
  }
  }
{% endschema %}
