{%- comment -%}
  Newsletter Design 2: Stacked
  Title on top, form below (left aligned)
  Colors inherited from color scheme via CSS variables
{%- endcomment -%}

<div class="newsletter-stacked py-[--section-vertical-padding] bg-[--color-background] text-[--color-text]" data-tween-group="newsletter-stacked">
  <div class="page-container">
    {% if title != blank %}
      <h2 class="max-w-2xl text-balance text-3xl font-semibold tracking-tight sm:text-4xl font-heading" data-tween data-tween-type="split-text">
        {{ title }}
      </h2>
    {% endif %}
    {% if text != blank %}
      <p class="mt-4 max-w-xl text-base opacity-70" data-tween data-tween-type="fade-up">{{ text }}</p>
    {% endif %}
    <div data-tween data-tween-type="fade-up">
    {% form 'customer', class: 'mt-10 max-w-md' %}
      <div class="flex gap-x-4">
        <label for="newsletter-email-stacked" class="sr-only">{{ 'customers.register.email' | t }}</label>
        <input
          id="newsletter-email-stacked"
          type="email"
          name="contact[email]"
          required
          placeholder="{{ 'customers.register.email' | t }}"
          autocomplete="email"
          class="input input--sm min-w-0 flex-auto placeholder:opacity-70 bg-transparent text-[--color-text] border-[--color-border]"
        >
        <input type="hidden" name="contact[tags]" value="newsletter">
        <button type="submit" class="btn btn--sm btn--secondary flex-none">
          <span>{{ button_text | default: 'Subscribe' }}</span>
        </button>
      </div>
      {% if privacy_link != blank %}
        <p class="mt-4 text-sm opacity-70">
          {{ privacy_text }} <a href="{{ privacy_link }}" class="font-semibold underline hover:no-underline">{{ privacy_link_text }}</a>.
        </p>
      {% endif %}
      {% if form.posted_successfully? %}
        <p class="mt-4 text-sm text-green-600">{{ 'general.newsletter.success' | t }}</p>
      {% endif %}
      {% if form.errors %}
        <p class="mt-4 text-sm text-red-500">{{ form.errors.messages['email'] }}</p>
      {% endif %}
    {% endform %}
    </div>
  </div>
</div>
