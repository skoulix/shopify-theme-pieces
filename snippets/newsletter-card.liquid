{%- comment -%}
  Newsletter Design 3: Card
  Centered card with gradient background effect
  Colors inherited from color scheme via CSS variables
{%- endcomment -%}

<div class="newsletter-card py-[--section-vertical-padding] bg-[--color-background]">
  <div class="page-container">
    <div class="relative isolate overflow-hidden px-6 py-16 sm:px-16 xl:py-24 rounded-[--card-radius] border-[length:var(--card-border-width)] border-[--color-border] shadow-[--card-shadow] bg-[--color-text] text-[--color-background]" data-tween data-tween-type="scale" data-tween-group="newsletter-card">
      {% if title != blank %}
        <h2 class="mx-auto max-w-3xl text-center text-3xl font-semibold tracking-tight sm:text-4xl lg:text-5xl font-heading" data-tween data-tween-type="split-text">
          {{ title }}
        </h2>
      {% endif %}
      {% if text != blank %}
        <p class="mx-auto mt-6 max-w-lg text-center text-base opacity-70" data-tween data-tween-type="fade-up">{{ text }}</p>
      {% endif %}
      <div class="mx-auto mt-10 max-w-md" data-tween data-tween-type="fade-up">
      {% form 'customer' %}
        <div class="flex gap-x-4">
          <label for="newsletter-email-card" class="sr-only">{{ 'customers.register.email' | t }}</label>
          <input
            id="newsletter-email-card"
            type="email"
            name="contact[email]"
            required
            placeholder="{{ 'customers.register.email' | t }}"
            autocomplete="email"
            class="input input--sm min-w-0 flex-auto placeholder:opacity-70 bg-[--color-background]/15 text-[--color-background] border-[--color-background]/30"
          >
          <input type="hidden" name="contact[tags]" value="newsletter">
          <button type="submit" class="btn btn--sm btn--secondary flex-none border-[--color-background] text-[--color-background] hover:bg-[--color-background] hover:text-[--color-text]">
            <span>{{ button_text | default: 'Subscribe' }}</span>
          </button>
        </div>
        {% if privacy_link != blank %}
          <p class="mt-4 text-center text-sm opacity-70">
            {{ privacy_text }} <a href="{{ privacy_link }}" class="font-semibold underline hover:no-underline">{{ privacy_link_text }}</a>.
          </p>
        {% endif %}
        {% if form.posted_successfully? %}
          <p class="mt-4 text-center text-sm text-green-400">{{ 'general.newsletter.success' | t }}</p>
        {% endif %}
        {% if form.errors %}
          <p class="mt-4 text-center text-sm text-red-400">{{ form.errors.messages['email'] }}</p>
        {% endif %}
      {% endform %}
      </div>

      {%- comment -%} Decorative gradient blob {%- endcomment -%}
      <svg viewBox="0 0 1024 1024" aria-hidden="true" class="absolute left-1/2 top-1/2 -z-10 w-[64rem] max-w-none -translate-x-1/2 opacity-20">
        <circle r="512" cx="512" cy="512" fill="url(#newsletter-gradient)" fill-opacity="0.7" />
        <defs>
          <radialGradient id="newsletter-gradient" r="1" cx="0" cy="0" gradientUnits="userSpaceOnUse" gradientTransform="translate(512 512) rotate(90) scale(512)">
            <stop stop-color="currentColor" />
            <stop offset="1" stop-color="currentColor" stop-opacity="0" />
          </radialGradient>
        </defs>
      </svg>
    </div>
  </div>
</div>
