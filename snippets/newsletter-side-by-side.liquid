{%- comment -%}
  Newsletter Design 1: Side by Side
  Title on left, form on right (stacks on mobile)
{%- endcomment -%}

<style>
  .newsletter-side-by-side .newsletter-btn {
    position: relative;
    color: {{ text_color }};
    background: transparent;
    border: 1px solid {{ text_color }};
    overflow: hidden;
    transition: color 0.4s ease;
  }

  .newsletter-side-by-side .newsletter-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: {{ text_color }};
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 0;
    pointer-events: none;
  }

  .newsletter-side-by-side .newsletter-btn:hover::before {
    transform: scaleX(1);
    transform-origin: left;
  }

  .newsletter-side-by-side .newsletter-btn:hover {
    color: {{ background_color }};
  }

  .newsletter-side-by-side .newsletter-btn span {
    position: relative;
    z-index: 1;
  }
</style>

<div class="newsletter-side-by-side py-[--section-vertical-padding]" style="background-color: {{ background_color }}; color: {{ text_color }};" data-tween-group="newsletter-side-by-side">
  <div class="page-container grid grid-cols-1 gap-10 lg:grid-cols-12 lg:gap-8 lg:items-center">
    <div class="lg:col-span-7">
      {% if title != blank %}
        <h2 class="max-w-xl text-balance text-3xl font-semibold tracking-tight sm:text-4xl font-heading" data-tween data-tween-type="split-text">
          {{ title }}
        </h2>
      {% endif %}
      {% if text != blank %}
        <p class="mt-4 max-w-xl text-base opacity-70" data-tween data-tween-type="fade-up">{{ text }}</p>
      {% endif %}
    </div>
    <div class="w-full max-w-md lg:col-span-5" data-tween data-tween-type="fade-up">
    {% form 'customer' %}
      <div class="flex gap-x-4">
        <label for="newsletter-email-side" class="sr-only">{{ 'customers.register.email' | t }}</label>
        <input
          id="newsletter-email-side"
          type="email"
          name="contact[email]"
          required
          placeholder="{{ 'customers.register.email' | t }}"
          autocomplete="email"
          class="input input--sm min-w-0 flex-auto placeholder:opacity-70"
          style="background-color: transparent; color: {{ text_color }}; border-color: {{ text_color }}40; caret-color: {{ text_color }};"
        >
        <input type="hidden" name="contact[tags]" value="newsletter">
        <button type="submit" class="btn btn--sm newsletter-btn flex-none">
          <span>{{ button_text | default: 'Subscribe' }}</span>
        </button>
      </div>
      {% if privacy_link != blank %}
        <p class="mt-4 text-sm opacity-70">
          {{ privacy_text }} <a href="{{ privacy_link }}" class="font-semibold underline hover:no-underline">{{ privacy_link_text }}</a>.
        </p>
      {% endif %}
      {% if form.posted_successfully? %}
        <p class="mt-4 text-sm text-green-500">{{ 'general.newsletter.success' | t }}</p>
      {% endif %}
      {% if form.errors %}
        <p class="mt-4 text-sm text-red-500">{{ form.errors.messages['email'] }}</p>
      {% endif %}
    {% endform %}
    </div>
  </div>
</div>
