{% comment %}
  Renders a swatch input (radio button with swatch visual).

  Accepts:
  - id: {String} unique input id
  - name: {String} input name
  - value: {String} input value (escaped)
  - swatch: {SwatchDrop} the swatch object
  - product_form_id: {String} id of the associated form
  - checked: {Boolean} whether this option is selected
  - disabled: {Boolean} whether this option is unavailable
  - shape: {String} 'circle' or 'square'
  - additional_props: {String} additional data attributes

  Usage:
  {% render 'swatch-input',
    id: input_id,
    name: input_name,
    value: escaped_value,
    swatch: value.swatch,
    product_form_id: product_form_id,
    checked: value.selected,
    disabled: option_disabled,
    shape: 'circle',
    additional_props: input_dataset
  %}
{% endcomment %}

<input
  type="radio"
  id="{{ id }}"
  name="{{ name }}"
  value="{{ value }}"
  form="{{ product_form_id }}"
  class="swatch-input{% if disabled %} swatch-input--disabled{% endif %}"
  {% if checked %}checked{% endif %}
  {{ additional_props }}
>
<label
  for="{{ id }}"
  title="{{ value }}"
  class="swatch-input-label{% if shape == 'square' %} swatch-input-label--square{% endif %}{% if disabled %} swatch-input-label--disabled{% endif %}"
>
  {% render 'swatch', swatch: swatch, shape: shape %}
  <span class="sr-only">{{ value }}</span>
  {% if disabled %}
    <span class="sr-only">â€” {{ 'products.product.sold_out' | t | default: 'Sold out' }}</span>
  {% endif %}
</label>
