/* ==========================================================================
   Pieces Theme - Tailwind CSS
   A minimal Shopify theme using Tailwind UI patterns
   ========================================================================== */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Base Layer - Minimal resets and defaults
   ========================================================================== */

@layer base {
  /* Use theme fonts */
  body {
    font-family: var(--font-body), ui-sans-serif, system-ui, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading), ui-sans-serif, system-ui, sans-serif;
  }

  /* Smooth scrolling - disabled when Lenis is active */
  html:not(.lenis) {
    scroll-behavior: smooth;
  }

  /* Lenis smooth scroll overrides */
  html.lenis,
  html.lenis body {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  /* Remove default summary marker */
  summary {
    list-style: none;
  }

  summary::-webkit-details-marker {
    display: none;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-indigo-600;
  }
}

/* ==========================================================================
   Components Layer - Reusable UI components
   ========================================================================== */

@layer components {
  /* Page container */
  .page-width {
    @apply mx-auto w-full px-4 sm:px-6 lg:px-8;
    max-width: var(--page-max-width, 1280px);
  }

  /* Section spacing */
  .section {
    @apply py-16 sm:py-24;
  }

  /* Visually hidden (for screen readers) */
  .visually-hidden {
    @apply sr-only;
  }
}

/* ==========================================================================
   Utilities Layer - Custom utilities
   ========================================================================== */

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Text pretty for paragraphs */
  .text-pretty {
    text-wrap: pretty;
  }
}

/* ==========================================================================
   Animation Styles - Centralized reveal animations
   ========================================================================== */

/* Scroll locking for page transitions */
html.scroll-locked {
  overflow: hidden !important;
}

html.scroll-locked body {
  overflow: hidden !important;
  padding-right: var(--scrollbar-width, 0px);
}

/* Image reveal animation states */
.reveal-image {
  clip-path: inset(0 100% 0 0);
}

.reveal-image--animated {
  clip-path: inset(0 0% 0 0);
}

/* Content fade-up animation states */
.reveal-content {
  opacity: 0;
  transform: translateY(30px);
}

.reveal-content--animated {
  opacity: 1;
  transform: translateY(0);
}

/* Transitioning state - prevents interactions during animation */
.is-transitioning {
  pointer-events: none;
}

/* Loading state - used for initial hidden state */
.is-loading .reveal-image {
  clip-path: inset(0 100% 0 0);
}
