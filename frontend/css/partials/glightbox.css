/* ==========================================================================
   GLightbox - Product Image Lightbox Styles
   Custom theme styling for GLightbox
   Note: Uses !important to override library defaults
   ========================================================================== */

/* Import base GLightbox styles */
@import 'glightbox/dist/css/glightbox.min.css';

@layer components {
  /* Override GLightbox styles to match theme */
  .glightbox-container {
    font-family: var(--font-body);
  }

  /* Backdrop */
  .goverlay {
    background: rgba(0, 0, 0, 0.95) !important;
  }

  /* Navigation arrows */
  .gnext,
  .gprev {
    @apply size-12! flex! items-center! justify-center! max-md:size-10!;
    background: var(--color-background) !important;
    border: 1px solid var(--color-border) !important;
    border-radius: var(--button-radius) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
    transition: background-color var(--transition-base), border-color var(--transition-base) !important;
  }

  .gnext:hover,
  .gprev:hover {
    background: var(--color-text) !important;
    border-color: var(--color-text) !important;
  }

  .gnext i,
  .gprev i,
  .gnext svg,
  .gprev svg {
    @apply text-xl! max-md:text-base!;
    color: var(--color-text) !important;
    transition: color var(--transition-base) !important;
  }

  .gnext:hover i,
  .gprev:hover i,
  .gnext:hover svg,
  .gprev:hover svg {
    color: var(--color-background) !important;
  }

  .gprev {
    @apply left-6! max-md:left-4!;
  }

  .gnext {
    @apply right-6! max-md:right-4!;
  }

  /* Close button */
  .gclose {
    @apply size-12! flex! items-center! justify-center! top-6! right-6! opacity-100! max-md:size-10! max-md:top-4! max-md:right-4!;
    background: var(--color-background) !important;
    border: 1px solid var(--color-border) !important;
    border-radius: var(--button-radius) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
    transition: background-color var(--transition-base), border-color var(--transition-base) !important;
  }

  .gclose:hover {
    background: var(--color-text) !important;
    border-color: var(--color-text) !important;
  }

  .gclose i,
  .gclose svg {
    @apply text-xl! max-md:text-base!;
    color: var(--color-text) !important;
    transition: color var(--transition-base) !important;
  }

  .gclose:hover i,
  .gclose:hover svg {
    color: var(--color-background) !important;
  }

  /* Hide default SVG icons */
  .gnext svg.default,
  .gprev svg.default,
  .gclose svg.default {
    @apply hidden!;
  }

  /* Slide content */
  .gslide-image img {
    border-radius: calc(var(--card-radius) * 0.5) !important;
  }

  /* Zoom cursor states */
  .gslide-image.zoomable img {
    @apply cursor-zoom-in!;
  }

  .gslide-image.zoomable img.zoomed {
    @apply cursor-grab! max-w-none! max-h-none!;
  }

  .gslide-image.zoomable img.zoomed:active {
    @apply cursor-grabbing!;
  }

  /* Video container */
  .gvideo-wrapper {
    @apply max-w-[90vw]! overflow-hidden!;
    border-radius: calc(var(--card-radius) * 0.5) !important;
  }

  /* Inline video (local Shopify videos) */
  .glightbox-video {
    @apply max-w-[90vw]! max-h-[80vh]! block!;
    border-radius: calc(var(--card-radius) * 0.5) !important;
  }

  /* Ensure video controls are visible */
  .glightbox-video::-webkit-media-controls {
    @apply flex! visible! opacity-100!;
  }

  video[controls].glightbox-video {
    @apply pointer-events-auto!;
  }

  .ginlined-content {
    @apply flex! items-center! justify-center! overflow-visible!;
  }

  /* Inline content wrapper - ensure video controls work */
  .gslide-inline {
    @apply overflow-visible! bg-transparent!;
  }

  .gslide-inline .ginner-container {
    @apply overflow-visible!;
  }

  .gslide-inline .gslide-media {
    @apply overflow-visible!;
  }

  /* Counter / slide info */
  .gslide-desc {
    @apply bg-transparent! py-4! px-0!;
  }

  .gdesc-inner {
    @apply p-0!;
  }

  .gslide-title {
    @apply font-heading! text-base! font-semibold! m-0!;
    color: var(--color-background) !important;
  }

  /* Loader */
  .gloader {
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
    border-top-color: white !important;
  }

  /* Counter at bottom */
  .gcounter {
    @apply fixed! bottom-6! left-1/2! -translate-x-1/2! text-xs! font-semibold! uppercase! py-2! px-4! rounded-full!;
    letter-spacing: 0.2em !important;
    color: rgba(255, 255, 255, 0.6) !important;
    background: rgba(0, 0, 0, 0.5) !important;
  }

  /* Animation overrides for smoother transitions */
  .glightbox-clean .gslide-media {
    @apply shadow-none!;
  }

  /* Zoom effect on open */
  .glightbox-fade-in {
    animation: glightboxFadeIn 0.3s ease-out forwards !important;
  }

  .glightbox-fade-out {
    animation: glightboxFadeOut 0.2s ease-in forwards !important;
  }

  @keyframes glightboxFadeIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes glightboxFadeOut {
    from {
      opacity: 1;
      transform: scale(1);
    }
    to {
      opacity: 0;
      transform: scale(0.95);
    }
  }
}
