const F=new WeakMap;function B(i,t,e,n){if(!i&&!F.has(t))return!1;const r=F.get(t)??new WeakMap;F.set(t,r);const s=r.get(e)??new Set;r.set(e,s);const o=s.has(n);return i?s.add(n):s.delete(n),o&&i}function gt(i,t){let e=i.target;if(e instanceof Text&&(e=e.parentElement),e instanceof Element&&i.currentTarget instanceof Node){const n=e.closest(t);if(n&&i.currentTarget.contains(n))return n}}function vt(i,t,e,n={}){const{signal:r,base:s=document}=n;if(r?.aborted)return;const{once:o,...a}=n,l=s instanceof Document?s.documentElement:s,u=!!(typeof n=="object"?n.capture:n),c=p=>{const d=gt(p,String(i));if(d){const f=Object.assign(p,{delegateTarget:d});e.call(l,f),o&&(l.removeEventListener(t,c,a),B(!1,l,e,h))}},h=JSON.stringify({selector:i,type:t,capture:u});B(!0,l,e,h)||l.addEventListener(t,c,a),r?.addEventListener("abort",()=>{B(!1,l,e,h)})}function wt(i){for(var t=[],e=0;e<i.length;){var n=i[e];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:e,value:i[e++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:e++,value:i[e++]});continue}if(n==="{"){t.push({type:"OPEN",index:e,value:i[e++]});continue}if(n==="}"){t.push({type:"CLOSE",index:e,value:i[e++]});continue}if(n===":"){for(var r="",s=e+1;s<i.length;){var o=i.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){r+=i[s++];continue}break}if(!r)throw new TypeError("Missing parameter name at ".concat(e));t.push({type:"NAME",index:e,value:r}),e=s;continue}if(n==="("){var a=1,l="",s=e+1;if(i[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<i.length;){if(i[s]==="\\"){l+=i[s++]+i[s++];continue}if(i[s]===")"){if(a--,a===0){s++;break}}else if(i[s]==="("&&(a++,i[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));l+=i[s++]}if(a)throw new TypeError("Unbalanced pattern at ".concat(e));if(!l)throw new TypeError("Missing pattern at ".concat(e));t.push({type:"PATTERN",index:e,value:l}),e=s;continue}t.push({type:"CHAR",index:e,value:i[e++]})}return t.push({type:"END",index:e,value:""}),t}function yt(i,t){t===void 0&&(t={});for(var e=wt(i),n=t.prefixes,r=n===void 0?"./":n,s=t.delimiter,o=s===void 0?"/#?":s,a=[],l=0,u=0,c="",h=function(P){if(u<e.length&&e[u].type===P)return e[u++].value},m=function(P){var k=h(P);if(k!==void 0)return k;var O=e[u],_=O.type,mt=O.index;throw new TypeError("Unexpected ".concat(_," at ").concat(mt,", expected ").concat(P))},p=function(){for(var P="",k;k=h("CHAR")||h("ESCAPED_CHAR");)P+=k;return P},d=function(P){for(var k=0,O=o;k<O.length;k++){var _=O[k];if(P.indexOf(_)>-1)return!0}return!1},f=function(P){var k=a[a.length-1],O=P||(k&&typeof k=="string"?k:"");if(k&&!O)throw new TypeError('Must have text between two parameters, missing text after "'.concat(k.name,'"'));return!O||d(O)?"[^".concat(T(o),"]+?"):"(?:(?!".concat(T(O),")[^").concat(T(o),"])+?")};u<e.length;){var w=h("CHAR"),g=h("NAME"),b=h("PATTERN");if(g||b){var v=w||"";r.indexOf(v)===-1&&(c+=v,v=""),c&&(a.push(c),c=""),a.push({name:g||l++,prefix:v,suffix:"",pattern:b||f(v),modifier:h("MODIFIER")||""});continue}var y=w||h("ESCAPED_CHAR");if(y){c+=y;continue}c&&(a.push(c),c="");var A=h("OPEN");if(A){var v=p(),x=h("NAME")||"",$=h("PATTERN")||"",C=p();m("CLOSE"),a.push({name:x||($?l++:""),pattern:x&&!$?f(v):$,prefix:v,suffix:C,modifier:h("MODIFIER")||""});continue}m("END")}return a}function bt(i,t){var e=[],n=ht(i,e,t);return Et(n,e,t)}function Et(i,t,e){e===void 0&&(e={});var n=e.decode,r=n===void 0?function(s){return s}:n;return function(s){var o=i.exec(s);if(!o)return!1;for(var a=o[0],l=o.index,u=Object.create(null),c=function(m){if(o[m]===void 0)return"continue";var p=t[m-1];p.modifier==="*"||p.modifier==="+"?u[p.name]=o[m].split(p.prefix+p.suffix).map(function(d){return r(d,p)}):u[p.name]=r(o[m],p)},h=1;h<o.length;h++)c(h);return{path:a,index:l,params:u}}}function T(i){return i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ut(i){return i&&i.sensitive?"":"i"}function kt(i,t){if(!t)return i;for(var e=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,r=e.exec(i.source);r;)t.push({name:r[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),r=e.exec(i.source);return i}function St(i,t,e){var n=i.map(function(r){return ht(r,t,e).source});return new RegExp("(?:".concat(n.join("|"),")"),ut(e))}function xt(i,t,e){return Pt(yt(i,e),t,e)}function Pt(i,t,e){e===void 0&&(e={});for(var n=e.strict,r=n===void 0?!1:n,s=e.start,o=s===void 0?!0:s,a=e.end,l=a===void 0?!0:a,u=e.encode,c=u===void 0?function(k){return k}:u,h=e.delimiter,m=h===void 0?"/#?":h,p=e.endsWith,d=p===void 0?"":p,f="[".concat(T(d),"]|$"),w="[".concat(T(m),"]"),g=o?"^":"",b=0,v=i;b<v.length;b++){var y=v[b];if(typeof y=="string")g+=T(c(y));else{var A=T(c(y.prefix)),x=T(c(y.suffix));if(y.pattern)if(t&&t.push(y),A||x)if(y.modifier==="+"||y.modifier==="*"){var $=y.modifier==="*"?"?":"";g+="(?:".concat(A,"((?:").concat(y.pattern,")(?:").concat(x).concat(A,"(?:").concat(y.pattern,"))*)").concat(x,")").concat($)}else g+="(?:".concat(A,"(").concat(y.pattern,")").concat(x,")").concat(y.modifier);else{if(y.modifier==="+"||y.modifier==="*")throw new TypeError('Can not repeat "'.concat(y.name,'" without a prefix and suffix'));g+="(".concat(y.pattern,")").concat(y.modifier)}else g+="(?:".concat(A).concat(x,")").concat(y.modifier)}}if(l)r||(g+="".concat(w,"?")),g+=e.endsWith?"(?=".concat(f,")"):"$";else{var C=i[i.length-1],P=typeof C=="string"?w.indexOf(C[C.length-1])>-1:C===void 0;r||(g+="(?:".concat(w,"(?=").concat(f,"))?")),P||(g+="(?=".concat(w,"|").concat(f,")"))}return new RegExp(g,ut(e))}function ht(i,t,e){return i instanceof RegExp?kt(i,t):Array.isArray(i)?St(i,t,e):xt(i,t,e)}function E(){return E=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},E.apply(null,arguments)}const dt=(i,t)=>String(i).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",L=({hash:i}={})=>window.location.pathname+window.location.search+(i?window.location.hash:""),At=(i,t={})=>{const e=E({url:i=i||L({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(e,"",i)},R=(i=null,t={})=>{i=i||L({hash:!0});const e=E({},window.history.state||{},{url:i,random:Math.random(),source:"swup"},t);window.history.replaceState(e,"",i)},Ot=(i,t,e,n)=>{const r=new AbortController;return n=E({},n,{signal:r.signal}),vt(i,t,e,n),{destroy:()=>r.abort()}};let S=class I extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,I.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new I(e)}static fromUrl(t){return new I(t)}};const Q=(i,t)=>{Array.isArray(i)&&!i.length&&(i="");try{return bt(i,t)}catch(e){throw new Error(`[swup] Error parsing path "${String(i)}":
${String(e)}`)}};class q extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function Tt(i,t={}){var e;i=S.fromUrl(i).url;const{visit:n=this.visit}=t,r=E({},this.options.requestHeaders,t.headers),s=(e=t.timeout)!=null?e:this.options.timeout,o=new AbortController,{signal:a}=o;t=E({},t,{headers:r,signal:a});let l,u=!1,c=null;s&&s>0&&(c=setTimeout(()=>{u=!0,o.abort("timeout")},s));try{l=await this.hooks.call("fetch:request",n,{url:i,options:t},(w,{url:g,options:b})=>fetch(g,b)),c&&clearTimeout(c)}catch(w){throw u?(this.hooks.call("fetch:timeout",n,{url:i}),new q(`Request timed out: ${i}`,{url:i,timedOut:u})):w?.name==="AbortError"||a.aborted?new q(`Request aborted: ${i}`,{url:i,aborted:!0}):w}const{status:h,url:m}=l,p=await l.text();if(h===500)throw this.hooks.call("fetch:error",n,{status:h,response:l,url:m}),new q(`Server error: ${m}`,{status:h,url:m});if(!p)throw new q(`Empty response: ${m}`,{status:h,url:m});const{url:d}=S.fromUrl(m),f={url:d,html:p};return!n.cache.write||t.method&&t.method!=="GET"||i!==d||this.cache.set(f.url,f),f}class $t{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((e,n)=>{t.set(n,E({},e))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e&&E({},e)}set(t,e){e=E({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",void 0,{page:e})}update(t,e){t=this.resolve(t);const n=E({},this.get(t),e,{url:t});this.pages.set(t,n)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((e,n)=>{t(n,e)&&this.delete(n)})}resolve(t){const{url:e}=S.fromUrl(t);return this.swup.resolveUrl(e)}}const K=(i,t=document)=>t.querySelector(i),X=(i,t=document)=>Array.from(t.querySelectorAll(i)),pt=()=>new Promise(i=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{i()})})});function Y(i){return!!i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"}function Lt(i,t=[]){return new Promise((e,n)=>{const r=i(...t);Y(r)?r.then(e,n):e(r)})}function Z(i,t){const e=i?.closest(`[${t}]`);return e!=null&&e.hasAttribute(t)?e?.getAttribute(t)||!0:void 0}class Ct{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?X(this.selector):[]}add(...t){this.targets.forEach(e=>e.classList.add(...t))}remove(...t){this.targets.forEach(e=>e.classList.remove(...t))}clear(){this.targets.forEach(t=>{const e=t.className.split(" ").filter(n=>this.isSwupClass(n));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class ft{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:n,from:r,hash:s,el:o,event:a}=e;this.id=Math.random(),this.state=1,this.from={url:r??t.location.url,hash:t.location.hash},this.to={url:n,hash:s},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:o,event:a},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function Rt(i){return new ft(this,i)}class Ut{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,n={}){const r=this.get(t);if(!r)return console.warn(`Hook '${t}' not found.`),()=>{};const s=E({},n,{id:r.size+1,hook:t,handler:e});return r.set(e,s),()=>this.off(t,e)}before(t,e,n={}){return this.on(t,e,E({},n,{before:!0}))}replace(t,e,n={}){return this.on(t,e,E({},n,{replace:!0}))}once(t,e,n={}){return this.on(t,e,E({},n,{once:!0}))}off(t,e){const n=this.get(t);n&&e?n.delete(e)||console.warn(`Handler for hook '${t}' not found.`):n&&n.clear()}async call(t,e,n,r){const[s,o,a]=this.parseCallArgs(t,e,n,r),{before:l,handler:u,after:c}=this.getHandlers(t,a);await this.run(l,s,o);const[h]=await this.run(u,s,o,!0);return await this.run(c,s,o),this.dispatchDomEvent(t,s,o),h}callSync(t,e,n,r){const[s,o,a]=this.parseCallArgs(t,e,n,r),{before:l,handler:u,after:c}=this.getHandlers(t,a);this.runSync(l,s,o);const[h]=this.runSync(u,s,o,!0);return this.runSync(c,s,o),this.dispatchDomEvent(t,s,o),h}parseCallArgs(t,e,n,r){return e instanceof ft||typeof e!="object"&&typeof n!="function"?[e,n,r]:[void 0,e,n]}async run(t,e=this.swup.visit,n,r=!1){const s=[];for(const{hook:o,handler:a,defaultHandler:l,once:u}of t)if(e==null||!e.done){u&&this.off(o,a);try{const c=await Lt(a,[e,n,l]);s.push(c)}catch(c){if(r)throw c;console.error(`Error in hook '${o}':`,c)}}return s}runSync(t,e=this.swup.visit,n,r=!1){const s=[];for(const{hook:o,handler:a,defaultHandler:l,once:u}of t)if(e==null||!e.done){u&&this.off(o,a);try{const c=a(e,n,l);s.push(c),Y(c)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${o}'.`)}catch(c){if(r)throw c;console.error(`Error in hook '${o}':`,c)}}return s}getHandlers(t,e){const n=this.get(t);if(!n)return{found:!1,before:[],handler:[],after:[],replaced:!1};const r=Array.from(n.values()),s=this.sortRegistrations,o=r.filter(({before:h,replace:m})=>h&&!m).sort(s),a=r.filter(({replace:h})=>h).filter(h=>!0).sort(s),l=r.filter(({before:h,replace:m})=>!h&&!m).sort(s),u=a.length>0;let c=[];if(e&&(c=[{id:0,hook:t,handler:e}],u)){const h=a.length-1,{handler:m,once:p}=a[h],d=f=>{const w=a[f-1];return w?(g,b)=>w.handler(g,b,d(f-1)):e};c=[{id:0,hook:t,once:p,handler:m,defaultHandler:d(h)}]}return{found:!0,before:o,handler:c,after:l,replaced:u}}sortRegistrations(t,e){var n,r;return((n=t.priority)!=null?n:0)-((r=e.priority)!=null?r:0)||t.id-e.id||0}dispatchDomEvent(t,e,n){if(e!=null&&e.done)return;const r={hook:t,args:n,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:r,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:r,bubbles:!0}))}parseName(t){const[e,...n]=t.split(".");return[e,n.reduce((r,s)=>E({},r,{[s]:!0}),{})]}}const Ht=i=>{if(i&&i.charAt(0)==="#"&&(i=i.substring(1)),!i)return null;const t=decodeURIComponent(i);let e=document.getElementById(i)||document.getElementById(t)||K(`a[name='${CSS.escape(i)}']`)||K(`a[name='${CSS.escape(t)}']`);return e||i!=="top"||(e=document.body),e},V="transition",z="animation";async function qt({selector:i,elements:t}){if(i===!1&&!t)return;let e=[];if(t)e=Array.from(t);else if(i&&(e=X(i,document.body),!e.length))return void console.warn(`[swup] No elements found matching animationSelector \`${i}\``);const n=e.map(r=>(function(s){const{type:o,timeout:a,propCount:l}=(function(u){const c=window.getComputedStyle(u),h=M(c,`${V}Delay`),m=M(c,`${V}Duration`),p=tt(h,m),d=M(c,`${z}Delay`),f=M(c,`${z}Duration`),w=tt(d,f),g=Math.max(p,w),b=g>0?p>w?V:z:null;return{type:b,timeout:g,propCount:b?b===V?m.length:f.length:0}})(s);return!(!o||!a)&&new Promise(u=>{const c=`${o}end`,h=performance.now();let m=0;const p=()=>{s.removeEventListener(c,d),u()},d=f=>{f.target===s&&((performance.now()-h)/1e3<f.elapsedTime||++m>=l&&p())};setTimeout(()=>{m<l&&p()},a+1),s.addEventListener(c,d)})})(r));n.filter(Boolean).length>0?await Promise.all(n):i&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${i}\``)}function M(i,t){return(i[t]||"").split(", ")}function tt(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,n)=>et(e)+et(i[n])))}function et(i){return 1e3*parseFloat(i)}function Vt(i,t={},e={}){if(typeof i!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(i,{el:e.el,event:e.event}))return void window.location.assign(i);const{url:n,hash:r}=S.fromUrl(i),s=this.createVisit(E({},e,{to:n,hash:r}));this.performNavigation(s,t)}async function Mt(i,t={}){if(this.navigating){if(this.visit.state>=6)return i.state=2,void(this.onVisitEnd=()=>this.performNavigation(i,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=i;const{el:e}=i.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(i.animation.animate=!1),i.animation.animate||this.classes.clear();const n=t.history||Z(e,"data-swup-history");typeof n=="string"&&["push","replace"].includes(n)&&(i.history.action=n);const r=t.animation||Z(e,"data-swup-animation");var s,o;typeof r=="string"&&(i.animation.name=r),i.meta=t.meta||{},typeof t.cache=="object"?(i.cache.read=(s=t.cache.read)!=null?s:i.cache.read,i.cache.write=(o=t.cache.write)!=null?o:i.cache.write):t.cache!==void 0&&(i.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",i,void 0),i.state=3;const a=this.hooks.call("page:load",i,{options:t},async(u,c)=>{let h;return u.cache.read&&(h=this.cache.get(u.to.url)),c.page=h||await this.fetchPage(u.to.url,c.options),c.cache=!!h,c.page});a.then(({html:u})=>{i.advance(5),i.to.html=u,i.to.document=new DOMParser().parseFromString(u,"text/html")});const l=i.to.url+i.to.hash;if(i.history.popstate||(i.history.action==="replace"||i.to.url===this.location.url?R(l):(this.currentHistoryIndex++,At(l,{index:this.currentHistoryIndex}))),this.location=S.fromUrl(l),i.history.popstate&&this.classes.add("is-popstate"),i.animation.name&&this.classes.add(`to-${dt(i.animation.name)}`),i.animation.wait&&await a,i.done||(await this.hooks.call("visit:transition",i,void 0,async()=>{if(!i.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(i,await a);i.advance(4),await this.animatePageOut(i),i.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(i,await a)).finished:await this.renderPage(i,await a),await this.animatePageIn(i)}),i.done))return;await this.hooks.call("visit:end",i,void 0,()=>this.classes.clear()),i.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(i.state=8);i.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(i.to.url+i.to.hash),!0),window.history.back()}finally{delete i.to.document}}const Dt=async function(i){await this.hooks.call("animation:out:start",i,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",i,{skip:!1},(t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",i,void 0)},It=function(i){var t;const e=i.to.document;if(!e)return!1;const n=((t=e.querySelector("title"))==null?void 0:t.innerText)||"";document.title=n;const r=X('[data-swup-persist]:not([data-swup-persist=""])'),s=i.containers.map(o=>{const a=document.querySelector(o),l=e.querySelector(o);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${o}`),l||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return r.forEach(o=>{const a=o.getAttribute("data-swup-persist"),l=K(`[data-swup-persist="${a}"]`);l&&l!==o&&l.replaceWith(o)}),s.length===i.containers.length},jt=function(i){const t={behavior:"auto"},{target:e,reset:n}=i.scroll,r=e??i.to.hash;let s=!1;return r&&(s=this.hooks.callSync("scroll:anchor",i,{hash:r,options:t},(o,{hash:a,options:l})=>{const u=this.getAnchorElement(a);return u&&u.scrollIntoView(l),!!u})),n&&!s&&(s=this.hooks.callSync("scroll:top",i,{options:t},(o,{options:a})=>(window.scrollTo(E({top:0,left:0},a)),!0))),s},Nt=async function(i){if(i.done)return;const t=this.hooks.call("animation:in:await",i,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})});await pt(),await this.hooks.call("animation:in:start",i,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",i,void 0)},Wt=async function(i,t){if(i.done)return;i.advance(6);const{url:e}=t;this.isSameResolvedUrl(L(),e)||(R(e),this.location=S.fromUrl(e),i.to.url=this.location.url,i.to.hash=this.location.hash),await this.hooks.call("content:replace",i,{page:t},(n,{})=>{if(this.classes.remove("is-leaving"),n.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(n))throw new Error("[swup] Container mismatch, aborting");n.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),n.animation.name&&this.classes.add(`to-${dt(n.animation.name)}`))}),await this.hooks.call("content:scroll",i,void 0,()=>this.scrollToContent(i)),await this.hooks.call("page:view",i,{url:this.location.url,title:document.title})},_t=function(i){var t;if(t=i,!!t?.isSwupPlugin){if(i.swup=this,!i._checkRequirements||i._checkRequirements())return i._beforeMount&&i._beforeMount(),i.mount(),this.plugins.push(i),this.plugins}else console.error("Not a swup plugin instance",i)};function Ft(i){const t=this.findPlugin(i);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(e=>e!==t),this.plugins;console.error("No such plugin",t)}function Bt(i){return this.plugins.find(t=>t===i||t.name===i||t.name===`Swup${String(i)}`)}function zt(i){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),i;const t=this.options.resolveUrl(i);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),i):t:(console.warn("[swup] options.resolveUrl needs to return a url"),i)}function Kt(i,t){return this.resolveUrl(i)===this.resolveUrl(t)}const Gt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(i,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:i=>i,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:i=>{var t;return((t=i.state)==null?void 0:t.source)!=="swup"},timeout:0};class Qt{get currentPageUrl(){return this.location.url}constructor(t={}){var e,n;this.version="4.8.2",this.options=void 0,this.defaults=Gt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=S.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=_t,this.unuse=Ft,this.findPlugin=Bt,this.log=()=>{},this.navigate=Vt,this.performNavigation=Mt,this.createVisit=Rt,this.delegateEvent=Ot,this.fetchPage=Tt,this.awaitAnimations=qt,this.renderPage=Wt,this.replaceContent=It,this.animatePageIn=Nt,this.animatePageOut=Dt,this.scrollToContent=jt,this.getAnchorElement=Ht,this.getCurrentUrl=L,this.resolveUrl=zt,this.isSameResolvedUrl=Kt,this.options=E({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new $t(this),this.classes=new Ct(this),this.hooks=new Ut(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(e=(n=window.history.state)==null?void 0:n.index)!=null?e:1,this.enable()}async enable(){var t;const{linkSelector:e}=this.options;this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(n=>this.use(n));for(const[n,r]of Object.entries(this.options.hooks)){const[s,o]=this.hooks.parseName(n);this.hooks.on(s,r,o)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&R(null,{index:this.currentHistoryIndex}),await pt(),await this.hooks.call("enable",void 0,void 0,()=>{const n=document.documentElement;n.classList.add("swup-enabled"),n.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:n}={}){const{origin:r,url:s,hash:o}=S.fromUrl(t);return r!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(s+o,{el:e,event:n})}handleLinkClick(t){const e=t.delegateTarget,{href:n,url:r,hash:s}=S.fromElement(e);if(this.shouldIgnoreVisit(n,{el:e,event:t}))return;if(this.navigating&&r===this.visit.to.url)return void t.preventDefault();const o=this.createVisit({to:r,hash:s,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",o,{href:n}):t.button===0&&this.hooks.callSync("link:click",o,{el:e,event:t},()=>{var a;const l=(a=o.from.url)!=null?a:"";t.preventDefault(),r&&r!==l?this.isSameResolvedUrl(r,l)||this.performNavigation(o):s?this.hooks.callSync("link:anchor",o,{hash:s},()=>{R(r+s),this.scrollToContent(o)}):this.hooks.callSync("link:self",o,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(o):(R(r),this.scrollToContent(o))})})}handlePopState(t){var e,n,r,s;const o=(e=(n=t.state)==null?void 0:n.url)!=null?e:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(L(),this.location.url))return;const{url:a,hash:l}=S.fromUrl(o),u=this.createVisit({to:a,hash:l,event:t});u.history.popstate=!0;const c=(r=(s=t.state)==null?void 0:s.index)!=null?r:0;c&&c!==this.currentHistoryIndex&&(u.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),u.animation.animate=!1,u.scroll.reset=!1,u.scroll.target=!1,this.options.animateHistoryBrowsing&&(u.animation.animate=!0,u.scroll.reset=!0),this.hooks.callSync("history:popstate",u,{event:t},()=>{this.performNavigation(u)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function U(){return U=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},U.apply(this,arguments)}const it=i=>String(i).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");let H=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,e])=>{if(!(function(n,r,s){const o=(function(a,l){var u;if(a==="swup")return(u=l.version)!=null?u:"";{var c;const h=l.findPlugin(a);return(c=h?.version)!=null?c:""}})(n,s);return!!o&&((a,l)=>l.every(u=>{const[,c,h]=u.match(/^([\D]+)?(.*)$/)||[];var m,p;return((d,f)=>{const w={"":g=>g===0,">":g=>g>0,">=":g=>g>=0,"<":g=>g<0,"<=":g=>g<=0};return(w[f]||w[""])(d)})((p=h,m=it(m=a),p=it(p),m.localeCompare(p,void 0,{numeric:!0})),c||">=")}))(o,r)})(t,e=Array.isArray(e)?e:[e],this.swup)){const n=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${n}`)}}),!0}on(t,e,n={}){var r;e=!(r=e).name.startsWith("bound ")||r.hasOwnProperty("prototype")?e.bind(this):e;const s=this.swup.hooks.on(t,e,n);return this.handlersToUnregister.push(s),s}once(t,e,n={}){return this.on(t,e,U({},n,{once:!0}))}before(t,e,n={}){return this.on(t,e,U({},n,{before:!0}))}replace(t,e,n={}){return this.on(t,e,U({},n,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}};function j(){return j=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},j.apply(this,arguments)}const Jt={from:"(.*)",to:"(.*)",out:i=>i(),in:i=>i()};let te=class extends H{constructor(t){var e,n;super(),e=this,this.name="SwupJsPlugin",this.requires={swup:">=4"},this.defaults={animations:[],matchOptions:{}},this.options=void 0,this.animations=[],this.awaitOutAnimation=async function(r,{skip:s}){s||await e.findAndRunAnimation(r,"out")},this.awaitInAnimation=async function(r,{skip:s}){s||await e.findAndRunAnimation(r,"in")},Array.isArray(t)&&(t={animations:t}),this.options=j({},this.defaults,t),this.options.animations.push(Jt),this.animations=(n=this.options.matchOptions,this.options.animations.map(r=>(function(s,o){return j({},s,{matchesFrom:Q(s.from,o),matchesTo:Q(s.to,o)})})(r,n)))}mount(){this.replace("animation:out:await",this.awaitOutAnimation,{priority:-1}),this.replace("animation:in:await",this.awaitInAnimation,{priority:-1})}async findAndRunAnimation(t,e){const n=(function(r,s){return(function(o,a,l,u){let c=0;return o.reduceRight((m,p)=>{const d=(function(f,w,g,b){let v=0;const y=f.matchesFrom(w);return y&&(v+=1),f.matchesTo(g)&&(v+=1),y&&f.to===b&&(v+=2),v})(p,a,l,u);return d>=c?(c=d,p):m},null)})(r,s.from.url,s.to.url,s.animation.name)})(this.animations,t);if(n){const r=(function(s,o,a){const l=s.matchesFrom(o.from.url),u=s.matchesTo(o.to.url);return{visit:o,direction:a,from:{url:o.from.url,pattern:s.from,params:l?l.params:{}},to:{url:o.to.url,pattern:s.to,params:u?u.params:{}}}})(n,t,e);await(function(s,o){const{direction:a}=o,l=s[a];return l?new Promise(u=>{const c=l(()=>u(),o);Y(c)&&c.then(u)}):(console.warn(`Missing animation function for '${a}' phase`),Promise.resolve())})(n,r)}}};function N(){return N=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},N.apply(null,arguments)}function nt(i){return i.localName!=="title"&&!i.matches("[data-swup-theme]")}function st(i,t){return i.outerHTML===t.outerHTML}function rt(i,t=[]){const e=Array.from(i.attributes);return t.length?e.filter(({name:n})=>t.some(r=>r instanceof RegExp?r.test(n):n===r)):e}function Xt(i){return i.matches("link[rel=stylesheet][href]")}let ie=class extends H{constructor(t={}){var e;super(),e=this,this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,attributes:["lang","dir"],timeout:3e3},this.options=void 0,this.updateHead=async function(n,{page:{}}){const{awaitAssets:r,attributes:s,timeout:o}=e.options,a=n.to.document,{removed:l,added:u}=(function(c,h,{shouldPersist:m=()=>!1}={}){const p=Array.from(c.children),d=Array.from(h.children),f=(w=p,d.reduce((v,y,A)=>(w.some(x=>st(y,x))||v.push({el:y,index:A}),v),[]));var w;const g=(function(v,y){return v.reduce((A,x)=>(y.some($=>st(x,$))||A.push({el:x}),A),[])})(p,d);g.reverse().filter(({el:v})=>nt(v)).filter(({el:v})=>!m(v)).forEach(({el:v})=>c.removeChild(v));const b=f.filter(({el:v})=>nt(v)).map(v=>{let y=v.el.cloneNode(!0);return c.insertBefore(y,c.children[(v.index||0)+1]||null),N({},v,{el:y})});return{removed:g.map(({el:v})=>v),added:b.map(({el:v})=>v)}})(document.head,a.head,{shouldPersist:c=>e.isPersistentTag(c)});if(e.swup.log(`Removed ${l.length} / added ${u.length} tags in head`),s!=null&&s.length&&(function(c,h,m=[]){const p=new Set;for(const{name:d,value:f}of rt(h,m))c.setAttribute(d,f),p.add(d);for(const{name:d}of rt(c,m))p.has(d)||c.removeAttribute(d)})(document.documentElement,a.documentElement,s),r){const c=(function(h,m=0){return h.filter(Xt).map(p=>(function(d,f=0){let w;const g=b=>{d.sheet?b():w=setTimeout(()=>g(b),10)};return new Promise(b=>{g(()=>b(d)),f>0&&setTimeout(()=>{w&&clearTimeout(w),b(d)},f)})})(p,m))})(u,o);c.length&&(e.swup.log(`Waiting for ${c.length} assets to load`),await Promise.all(c))}},this.options=N({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){const{persistTags:e}=this.options;return typeof e=="function"?e(t):typeof e=="string"&&e.length>0?t.matches(e):!!e}};function W(){return W=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},W.apply(null,arguments)}function ot(){return window.matchMedia("(hover: hover)").matches}function D(i){return!!i&&(i instanceof HTMLAnchorElement||i instanceof SVGAElement)}const at=window.requestIdleCallback||(i=>setTimeout(i,1)),Yt=["preloadVisibleLinks"];class se extends H{constructor(t={}){var e;super(),e=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(s,o,a)=>{const{url:l}=s.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(s,o)},this.onMouseEnter=async function(s){if(s.target!==s.delegateTarget||!ot())return;const o=s.delegateTarget;if(!D(o))return;const{url:a,hash:l}=S.fromElement(o),u=e.swup.createVisit({to:a,hash:l,el:o,event:s});e.swup.hooks.callSync("link:hover",u,{el:o,event:s}),e.preload(o,{priority:!0})},this.onTouchStart=s=>{if(ot())return;const o=s.delegateTarget;D(o)&&this.preload(o,{priority:!0})},this.onFocus=s=>{const o=s.delegateTarget;D(o)&&this.preload(o,{priority:!0})};const{preloadVisibleLinks:n}=t,r=(function(s,o){if(s==null)return{};var a={};for(var l in s)if({}.hasOwnProperty.call(s,l)){if(o.includes(l))continue;a[l]=s[l]}return a})(t,Yt);this.options=W({},this.defaults,r),typeof n=="object"?this.options.preloadVisibleLinks=W({},this.options.preloadVisibleLinks,{enabled:!0},n):this.options.preloadVisibleLinks.enabled=!!n,this.preload=this.preload.bind(this),this.queue=(function(s=1){const o=[],a=[];let l=0,u=0;function c(){u<s&&l>0&&((a.shift()||o.shift()||(()=>{}))(),l--,u++)}return{add:function(h,m=!1){if(h.__queued){if(!m)return;{const p=o.indexOf(h);if(p>=0){const d=o.splice(p,1);l-=d.length}}}h.__queued=!0,(m?a:o).push(h),l++,l<=1&&c()},next:function(){u--,c()}}})(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(L())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,e,n;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(t=this.mouseEnterDelegate)==null||t.destroy(),(e=this.touchStartDelegate)==null||e.destroy(),(n=this.focusDelegate)==null||n.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,e={}){var n;let r,s;const o=(n=e.priority)!=null&&n;if(Array.isArray(t))return Promise.all(t.map(l=>this.preload(l)));if(D(t))s=t,{href:r}=S.fromElement(t);else{if(typeof t!="string")return;r=t}if(!r)return;if(this.swup.cache.has(r))return this.swup.cache.get(r);if(this.preloadPromises.has(r))return this.preloadPromises.get(r);if(!this.shouldPreload(r,{el:s}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(r).catch(()=>{}).then(u=>l(u)).finally(()=>{this.queue.next(),this.preloadPromises.delete(r)})},o)});return this.preloadPromises.set(r,a),a}preloadLinks(){at(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(t=>this.preload(t))})}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:e}=t.options,n={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(e,"mouseenter",this.onMouseEnter,n),this.touchStartDelegate=t.delegateEvent(e,"touchstart",this.onTouchStart,n),this.focusDelegate=t.delegateEvent(e,"focus",this.onFocus,n)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:e,containers:n}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:r,delay:s,containers:o,callback:a,filter:l}){const u=new Map,c=new IntersectionObserver(d=>{d.forEach(f=>{f.isIntersecting?h(f.target):m(f.target)})},{threshold:r}),h=d=>{var f;const{href:w}=S.fromElement(d),g=(f=u.get(w))!=null?f:new Set;u.set(w,g),g.add(d),setTimeout(()=>{const b=u.get(w);b!=null&&b.size&&(a(d),c.unobserve(d),b.delete(d))},s)},m=d=>{var f;const{href:w}=S.fromElement(d);(f=u.get(w))==null||f.delete(d)},p=()=>{at(()=>{const d=o.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(d)).filter(f=>l(f)).forEach(f=>c.observe(f))})};return{start:()=>p(),stop:()=>c.disconnect(),update:()=>(u.clear(),p())}})({threshold:t,delay:e,containers:n,callback:r=>this.preload(r),filter:r=>{if(this.options.preloadVisibleLinks.ignore(r)||!r.matches(this.swup.options.linkSelector))return!1;const{href:s}=S.fromElement(r);return this.shouldPreload(s,{el:r})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:e}={}){const{url:n,href:r}=S.fromUrl(t);return!(!(function(){if(navigator.connection){var s;if(navigator.connection.saveData||(s=navigator.connection.effectiveType)!=null&&s.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(n)||this.preloadPromises.has(n)||this.swup.shouldIgnoreVisit(r,{el:e})||e&&this.swup.resolveUrl(n)===this.swup.resolveUrl(L()))}async performPreload(t){var e=this;const{url:n}=S.fromUrl(t),r=this.swup.createVisit({to:n});return await this.swup.hooks.call("page:preload",r,{url:n},async function(o,a){return a.page=await e.swup.fetchPage(t,{visit:o}),a.page})}}function G(){return G=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},G.apply(this,arguments)}function lt(i,{prefix:t=""}={}){return!!i&&i.startsWith(t)}function ct(i,t=[]){const e=Array.from(i.attributes);return t.length?e.filter(({name:n})=>t.some(r=>r instanceof RegExp?r.test(n):n===r)):e}class re extends H{constructor(t={}){super(),this.name="SwupBodyClassPlugin",this.requires={swup:">=4.6"},this.defaults={prefix:"",attributes:[]},this.options=void 0,this.update=e=>{const{prefix:n,attributes:r}=this.options;(function(s,o,{prefix:a=""}={}){const l=[...s.classList].filter(c=>lt(c,{prefix:a})),u=[...o.classList].filter(c=>lt(c,{prefix:a}));s.classList.remove(...l),s.classList.add(...u)})(document.body,e.to.document.body,{prefix:n}),r!=null&&r.length&&(function(s,o,a=[]){const l=new Set;for(const{name:u,value:c}of ct(o,a))s.setAttribute(u,c),l.add(u);for(const{name:u}of ct(s,a))l.has(u)||s.removeAttribute(u)})(document.body,e.to.document.body,r)},this.options=G({},this.defaults,t)}mount(){this.on("content:replace",this.update)}}function J(){return J=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},J.apply(this,arguments)}class oe extends H{constructor(t={}){super(),this.name="SwupScriptsPlugin",this.requires={swup:">=4"},this.defaults={head:!0,body:!0,optin:!1},this.options=void 0,this.options=J({},this.defaults,t)}mount(){this.on("content:replace",this.runScripts)}runScripts(){const{head:t,body:e,optin:n}=this.options,r=this.getScope({head:t,body:e});if(!r)return;const s=Array.from(r.querySelectorAll(n?"script[data-swup-reload-script]":"script:not([data-swup-ignore-script])"));s.forEach(o=>this.runScript(o)),this.swup.log(`Executed ${s.length} scripts.`)}runScript(t){const e=document.createElement("script");for(const{name:n,value:r}of t.attributes)e.setAttribute(n,r);return e.textContent=t.textContent,t.replaceWith(e),e}getScope({head:t,body:e}){return t&&e?document:t?document.head:e?document.body:null}}export{Qt as _,te as a,se as b,H as e,Q as h,ie as i,S as l,re as o,oe as r,dt as s};
